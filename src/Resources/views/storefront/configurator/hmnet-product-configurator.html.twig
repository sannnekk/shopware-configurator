{% block hmnet_product_configurator %}
	{% set taxState = context.taxState %}

	{% if taxState != 'net' %}
		{% sw_include '@HMnetConfigurator/storefront/configurator/partials/tax-warning.html.twig' %}
	{% else %}
		{% set currencyDecimals = context.currency.itemRounding.decimals ?? 2 %}
		{% set taxRate = product.tax ? product.tax.taxRate : 0 %}
		{% set fields = page.extensions.hmnetConfiguratorFields|default([]) %}
		{% set setupLabelTemplate = 'hmnet-configurator.breakdown.setupLabel'|trans|sw_sanitize %}
		{% set filmLabelTemplate = 'hmnet-configurator.breakdown.filmLabel'|trans|sw_sanitize %}
		{% set defaultSelectLabel = 'hmnet-configurator.select.defaultLabel'|trans %}

		{% sw_include '@HMnetConfigurator/storefront/configurator/partials/container.html.twig' with {
			product: product,
			fields: fields,
			currencyDecimals: currencyDecimals,
			currencySymbol: context.currency.symbol,
			taxRate: taxRate,
			setupLabelTemplate: setupLabelTemplate,
			filmLabelTemplate: filmLabelTemplate,
			defaultSelectLabel: defaultSelectLabel
		} only %}
	{% endif %}
{% endblock %}
