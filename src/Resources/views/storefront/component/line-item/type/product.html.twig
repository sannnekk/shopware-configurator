{% sw_extends '@Storefront/storefront/component/line-item/type/product.html.twig' %}

{% set configuratorChildren = lineItem.children.filterType('hmnet-configurator') %}
{% set setupFilmChildren = lineItem.children.filterType('hmnet-configurator-setup-film') %}
{% set hasConfiguratorChildren = configuratorChildren|length > 0 %}

{% block component_line_item_type_product_details_container %}
	{{ parent() }}

	{% if hasConfiguratorChildren %}
		{% sw_include '@HMnetConfigurator/storefront/component/line-item/configurator-children.html.twig' with {
			children: configuratorChildren,
			setupFilmChildren: setupFilmChildren,
			parentLineItem: lineItem,
			displayMode: displayMode|default('default'),
			order: order|default(null),
			context: context,
			activeRoute: activeRoute|default(null),
			redirectTo: redirectTo|default(null),
			formAction: formAction|default(null)
		} only %}
	{% endif %}
{% endblock %}

{% block component_line_item_type_product_image %}
	{% if not hasConfiguratorChildren %}
		{{ parent() }}
	{% endif %}
{% endblock %}

{% block component_line_item_type_product_label %}
	{% if not hasConfiguratorChildren %}
		{{ parent() }}
	{% endif %}
{% endblock %}

{% block component_line_item_type_product_number %}
	{% if not hasConfiguratorChildren %}
		{{ parent() }}
	{% endif %}
{% endblock %}

{% block component_line_item_type_product_delivery_date %}
	{% if not hasConfiguratorChildren %}
		{{ parent() }}
	{% endif %}
{% endblock %}

{% block component_line_item_type_product_col_remove %}
	{% if not hasConfiguratorChildren %}
		{{ parent() }}
	{% endif %}
{% endblock %}

{% block component_line_item_type_product_col_quantity %}
	{% if not hasConfiguratorChildren %}
		{{ parent() }}
	{% endif %}
{% endblock %}

{% block component_line_item_type_product_col_unit_price %}
	{% if not hasConfiguratorChildren %}
		{{ parent() }}
	{% endif %}
{% endblock %}

{% block component_line_item_type_product_col_total_price %}
	{% if not hasConfiguratorChildren %}
		{{ parent() }}
	{% endif %}
{% endblock %}

{% block component_line_item_type_product_wishlist %}
	{% if not hasConfiguratorChildren %}
		{{ parent() }}
	{% endif %}
{% endblock %}
