{% sw_extends '@Storefront/storefront/component/buy-widget/buy-widget-price.html.twig' %}


{% block buy_widget_price_block_table_body %}
	<tbody class="product-block-prices-body">
	{% block buy_widget_price_block_table_body_inner %}
		{% set lastQuantity = 0 %}

		{% for price in product.calculatedPrices %}
			{% set fromQuantity = loop.first ? product.minPurchase : (lastQuantity + 1) %}
			{% block buy_widget_price_block_table_body_row %}
				<tr class="product-block-prices-row"
					itemprop="offers" itemscope
					itemtype="https://schema.org/Offer">
					{% block buy_widget_price_block_table_body_cell_quantity %}
						<th scope="row" class="product-block-prices-cell product-block-prices-cell-thin">
							<meta itemprop="priceCurrency" content="{{ context.currency.translated.shortName }}">
							<meta itemprop="price" content="{{ price.unitPrice }}">

							{{ 'detail.priceDataInfoFrom'|trans|sw_sanitize }}
							<span class="product-block-prices-quantity">{{ fromQuantity }}</span>
						</th>
					{% endblock %}

					{% block buy_widget_price_block_table_body_cell_price %}
						<td class="product-block-prices-cell">
							{% sw_include '@Storefront/storefront/component/product/block-price.html.twig' with {
								price: price
							} only %}
						</td>
					{% endblock %}

					{% block buy_widget_price_block_table_body_cell_reference_price %}
						{% if price.referencePrice is not null %}
							<td class="product-block-prices-cell product-block-prices-cell-thin">
								{{ price.referencePrice.price|currency }} / {{ price.referencePrice.referenceUnit }} {{ price.referencePrice.unitName }}
							</td>
						{% endif %}
					{% endblock %}
				</tr>
			{% endblock %}
			{% set lastQuantity = price.quantity %}
		{% endfor %}
	{% endblock %}
	</tbody>
{% endblock %}